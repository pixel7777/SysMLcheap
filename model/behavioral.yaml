# ============================================================================
# BEHAVIORAL ARCHITECTURE — Actors & Use Cases
# ============================================================================

actors:
  - id: act_lqs
    name: Language Questing System
    documentation: >
      The system of interest (SOI) — the application under development.
      All use cases in this model represent uses of this system and must be
      associated with this actor by modeling convention.
    ownerRef: pkg_behavioral
    status: mvp
    useCaseRefs:
      - uc_access_application
      - uc_authenticate_users
      - uc_learn_language
      - uc_build_vocabulary
      - uc_learn_grammar
      - uc_learn_pronunciation
      - uc_practice_receptive_skills
      - uc_practice_productive_skills
      - uc_retain_progress_across_stories
      - uc_play_rpg
      - uc_start_new_story
      - uc_continue_existing_story
      - uc_manage_story_history
      - uc_delete_story
      - uc_manage_story_character
      - uc_manage_story_settings
      - uc_understand_learning_progress
      - uc_view_grammar_progress
      - uc_view_vocabulary_progress
      - uc_receive_progress_rewards
      - uc_manage_evolving_context
      - uc_generate_sales
      - uc_manage_payments
      - uc_maintain_system
      - uc_publish_new_version
      - uc_monitor_system_health
      - uc_manage_application_data
      - uc_manage_ai_provider_config
      - uc_protect_users_from_security_threats
      - uc_monitor_for_threats
      - uc_harden_system_security
      - uc_respond_to_security_incidents
      - uc_recover_from_security_incidents
      - uc_test_system
      - uc_plan_tests
      - uc_execute_automated_tests
      - uc_execute_manual_tests
      - uc_manage_discovered_faults
      - uc_verify_fixes
    realizedByRefs: []

  - id: act_heidi
    name: Heidi
    documentation: >
      Initial user with fixed defaults (L1 English, L2 Croatian) for
      Heidi-only MVP behavior and content preferences.
    ownerRef: pkg_behavioral
    status: mvp
    useCaseRefs:
      - uc_access_application
      - uc_authenticate_users
      - uc_learn_language
      - uc_play_rpg
      - uc_understand_learning_progress
    realizedByRefs: []

  - id: act_learner
    name: Learner
    documentation: >
      Paying user with potentially different preferences and profile settings.
      Kept distinct from Heidi (no actor generalization).
    ownerRef: pkg_behavioral
    status: future
    useCaseRefs:
      - uc_access_application
      - uc_authenticate_users
      - uc_learn_language
      - uc_play_rpg
      - uc_understand_learning_progress
      - uc_manage_payments
    realizedByRefs: []

  - id: act_developer
    name: Developer
    documentation: >
      Heidi in her business/development role, focused on profitable operation,
      validation quality, and system evolution.
    ownerRef: pkg_behavioral
    status: mvp
    useCaseRefs:
      - uc_generate_sales
      - uc_manage_payments
      - uc_test_system
    realizedByRefs: []

  - id: act_tester
    name: Tester
    documentation: >
      Executes manual and automated testing, reports faults, and verifies fixes.
    ownerRef: pkg_behavioral
    status: mvp
    useCaseRefs:
      - uc_test_system
    realizedByRefs: []

  - id: act_test_bench
    name: Test Bench
    documentation: >
      External testing infrastructure (CI runners, harnesses, mocks, fixtures)
      used to execute automated tests against the system.
    ownerRef: pkg_behavioral
    status: mvp
    useCaseRefs:
      - uc_execute_automated_tests
      - uc_verify_fixes
    realizedByRefs: []

  - id: act_maintainer
    name: Maintainer
    documentation: >
      Operates and maintains deployed environments: deployment, monitoring,
      data management, and provider configuration.
    ownerRef: pkg_behavioral
    status: mvp
    useCaseRefs:
      - uc_maintain_system
    realizedByRefs: []

  - id: act_security_specialist
    name: Security Specialist
    documentation: >
      Leads threat monitoring, hardening, incident response, and recovery.
    ownerRef: pkg_behavioral
    status: future
    useCaseRefs:
      - uc_protect_users_from_security_threats
    realizedByRefs: []

  - id: act_ai_provider
    name: AI Provider
    documentation: >
      External API-based AI service. Internal AI capabilities are modeled as
      parts of the Language Questing System, not this actor.
    ownerRef: pkg_behavioral
    status: mvp
    useCaseRefs:
      - uc_learn_language
      - uc_play_rpg
      - uc_understand_learning_progress
      - uc_manage_evolving_context
      - uc_manage_ai_provider_config
    realizedByRefs: []

  - id: act_host_platform
    name: Host Platform
    documentation: >
      External deployment platform providing infrastructure and runtime services.
    ownerRef: pkg_behavioral
    status: mvp
    useCaseRefs:
      - uc_access_application
      - uc_protect_users_from_security_threats
      - uc_publish_new_version
      - uc_monitor_system_health
      - uc_manage_application_data
    realizedByRefs: []

  - id: act_payment_provider
    name: Payment Provider
    documentation: >
      External payment processing service for subscriptions and billing.
    ownerRef: pkg_behavioral
    status: future
    useCaseRefs:
      - uc_manage_payments
    realizedByRefs: []

  - id: act_advertising_platform
    name: Advertising Platform
    documentation: >
      External ad network used for future revenue generation.
    ownerRef: pkg_behavioral
    status: future
    useCaseRefs:
      - uc_generate_sales
    realizedByRefs: []

  - id: act_auth_provider
    name: Authentication Provider
    documentation: >
      External identity provider for user authentication/session services.
    ownerRef: pkg_behavioral
    status: future
    useCaseRefs:
      - uc_authenticate_users
      - uc_protect_users_from_security_threats
    realizedByRefs: []

useCases:
  - id: uc_access_application
    name: Access Application
    documentation: >
      User accesses the deployed web application via the host platform.
    ownerRef: pkg_behavioral
    status: mvp
    actorRefs: [act_lqs, act_heidi, act_learner, act_host_platform]
    traceRefs: [req_mobile_friendly]

  - id: uc_authenticate_users
    name: Authenticate Users
    documentation: >
      Validate user identity and create authenticated sessions.
    ownerRef: pkg_behavioral
    status: future
    actorRefs: [act_lqs, act_heidi, act_learner, act_auth_provider]
    traceRefs: [src_design_doc]

  - id: uc_learn_language
    name: Learn a Language
    documentation: >
      Core learning mission integrating vocabulary, grammar, skills practice,
      and long-term retention across stories.
    ownerRef: pkg_behavioral
    status: mvp
    actorRefs: [act_lqs, act_heidi, act_learner, act_ai_provider]
    includeRefs:
      - uc_build_vocabulary
      - uc_learn_grammar
      - uc_learn_pronunciation
      - uc_practice_receptive_skills
      - uc_practice_productive_skills
      - uc_retain_progress_across_stories
    traceRefs: [req_vocab_tracking, req_srs_scheduling, req_grammar_progressive, req_immersion]

  - id: uc_build_vocabulary
    name: Build Vocabulary
    documentation: >
      Introduce, reinforce, and assess vocabulary through story context and SRS.
    ownerRef: pkg_behavioral
    status: mvp
    actorRefs: [act_lqs]
    traceRefs: []

  - id: uc_learn_grammar
    name: Learn Grammar
    documentation: >
      Progressively teach and assess grammar rules and inflection patterns.
    ownerRef: pkg_behavioral
    status: mvp
    actorRefs: [act_lqs]
    traceRefs: []

  - id: uc_learn_pronunciation
    name: Learn Pronunciation
    documentation: >
      Practice and improve pronunciation, stress, and phonetic accuracy.
    ownerRef: pkg_behavioral
    status: future
    actorRefs: [act_lqs]
    traceRefs: []

  - id: uc_practice_receptive_skills
    name: Practice Receptive Skills
    documentation: >
      Improve comprehension (reading now; listening in future) and language
      recognition accuracy.
    ownerRef: pkg_behavioral
    status: mvp
    actorRefs: [act_lqs]
    traceRefs: []

  - id: uc_practice_productive_skills
    name: Practice Productive Skills
    documentation: >
      Improve language production (writing now; speaking in future), emphasizing
      generated Croatian output over recognition-only interactions.
    ownerRef: pkg_behavioral
    status: mvp
    actorRefs: [act_lqs]
    traceRefs: []

  - id: uc_retain_progress_across_stories
    name: Retain Language Progress Across Stories
    documentation: >
      Preserve learner language progress when stories are changed or deleted.
      Story-specific character and narrative state may reset independently.
    ownerRef: pkg_behavioral
    status: mvp
    actorRefs: [act_lqs]
    traceRefs: []

  - id: uc_play_rpg
    name: Play an RPG
    documentation: >
      Run RPG story gameplay with AI-supported narrative generation and choices.
    ownerRef: pkg_behavioral
    status: mvp
    actorRefs: [act_lqs, act_heidi, act_learner, act_ai_provider]
    includeRefs:
      - uc_start_new_story
      - uc_continue_existing_story
      - uc_manage_story_history
      - uc_delete_story
      - uc_manage_story_character
      - uc_manage_story_settings
    traceRefs: [req_ai_dm, req_immersion]

  - id: uc_start_new_story
    name: Start a New Story
    documentation: >
      Initialize a new story world and character context from setup inputs.
    ownerRef: pkg_behavioral
    status: mvp
    actorRefs: [act_lqs]
    traceRefs: []

  - id: uc_continue_existing_story
    name: Continue an Existing Story
    documentation: >
      Resume an existing story with its persisted narrative and character state.
    ownerRef: pkg_behavioral
    status: mvp
    actorRefs: [act_lqs]
    traceRefs: []

  - id: uc_manage_story_history
    name: Manage Story History
    documentation: >
      Read and write story history entries to maintain coherent continuity.
    ownerRef: pkg_behavioral
    status: mvp
    actorRefs: [act_lqs]
    traceRefs: []

  - id: uc_delete_story
    name: Delete a Story
    documentation: >
      Delete a story and its narrative artifacts without deleting persistent
      language learning information.
    ownerRef: pkg_behavioral
    status: mvp
    actorRefs: [act_lqs]
    traceRefs: []

  - id: uc_manage_story_character
    name: Manage Story Character
    documentation: >
      View/update story-specific character profile, stats, and inventory.
    ownerRef: pkg_behavioral
    status: mvp
    actorRefs: [act_lqs]
    traceRefs: []

  - id: uc_manage_story_settings
    name: Manage Story Settings
    documentation: >
      Configure story-level options including tone, content boundaries,
      and difficulty preferences.
    ownerRef: pkg_behavioral
    status: mvp
    actorRefs: [act_lqs]
    traceRefs: []

  - id: uc_understand_learning_progress
    name: Understand Learning Progress
    documentation: >
      Review grammar/vocabulary progression and reward milestones.
    ownerRef: pkg_behavioral
    status: mvp
    actorRefs: [act_lqs, act_heidi, act_learner, act_ai_provider]
    includeRefs:
      - uc_view_grammar_progress
      - uc_view_vocabulary_progress
      - uc_receive_progress_rewards
    traceRefs: [req_vocab_tracking, req_grammar_progressive]

  - id: uc_view_grammar_progress
    name: View Grammar Progress
    documentation: >
      Display grammar competency status and progression by concept.
    ownerRef: pkg_behavioral
    status: mvp
    actorRefs: [act_lqs]
    traceRefs: []

  - id: uc_view_vocabulary_progress
    name: View Vocabulary Progress
    documentation: >
      Display vocabulary mastery levels and review readiness indicators.
    ownerRef: pkg_behavioral
    status: mvp
    actorRefs: [act_lqs]
    traceRefs: []

  - id: uc_receive_progress_rewards
    name: Receive Progress Rewards
    documentation: >
      Award in-app rewards for learning milestones and sustained engagement.
    ownerRef: pkg_behavioral
    status: mvp
    actorRefs: [act_lqs]
    traceRefs: []

  - id: uc_manage_evolving_context
    name: Manage Evolving Context
    documentation: >
      Maintain evolving prompt/context state for AI interactions across sessions.
    ownerRef: pkg_behavioral
    status: mvp
    actorRefs: [act_lqs, act_ai_provider]
    traceRefs: [src_design_doc]

  - id: uc_generate_sales
    name: Generate Sales
    documentation: >
      Support future monetization via ads and conversion flows.
    ownerRef: pkg_behavioral
    status: future
    actorRefs: [act_lqs, act_developer, act_advertising_platform]
    traceRefs: [src_design_doc]

  - id: uc_manage_payments
    name: Manage Payments
    documentation: >
      Handle subscription charges, renewals, payment failures, and refunds.
    ownerRef: pkg_behavioral
    status: future
    actorRefs: [act_lqs, act_learner, act_developer, act_payment_provider]
    traceRefs: [src_design_doc]

  - id: uc_maintain_system
    name: Maintain the System
    documentation: >
      Operate and maintain production reliability, deploy changes, and manage data.
    ownerRef: pkg_behavioral
    status: mvp
    actorRefs: [act_lqs, act_maintainer]
    includeRefs:
      - uc_publish_new_version
      - uc_monitor_system_health
      - uc_manage_application_data
      - uc_manage_ai_provider_config
    traceRefs: [req_no_data_loss]

  - id: uc_publish_new_version
    name: Publish New Version
    documentation: >
      Deploy and validate a new software version in hosted environments.
    ownerRef: pkg_behavioral
    status: mvp
    actorRefs: [act_lqs, act_host_platform]
    traceRefs: []

  - id: uc_monitor_system_health
    name: Monitor System Health
    documentation: >
      Observe uptime, errors, resource usage, and provider costs/latency.
    ownerRef: pkg_behavioral
    status: mvp
    actorRefs: [act_lqs, act_host_platform]
    traceRefs: []

  - id: uc_manage_application_data
    name: Manage Application Data
    documentation: >
      Manage backups, retention, restores, and data integrity controls.
    ownerRef: pkg_behavioral
    status: mvp
    actorRefs: [act_lqs, act_host_platform]
    traceRefs: []

  - id: uc_manage_ai_provider_config
    name: Manage AI Provider Configuration
    documentation: >
      Configure models, API keys, rate limits, and AI service failover options.
    ownerRef: pkg_behavioral
    status: mvp
    actorRefs: [act_lqs, act_ai_provider]
    traceRefs: []

  - id: uc_protect_users_from_security_threats
    name: Protect Users from Security Threats
    documentation: >
      Identify, prevent, respond to, and recover from threats impacting users.
    ownerRef: pkg_behavioral
    status: future
    actorRefs: [act_lqs, act_security_specialist, act_auth_provider, act_host_platform]
    includeRefs:
      - uc_monitor_for_threats
      - uc_harden_system_security
      - uc_respond_to_security_incidents
      - uc_recover_from_security_incidents
    traceRefs: [req_no_data_loss]

  - id: uc_monitor_for_threats
    name: Monitor for Threats
    documentation: >
      Detect suspicious behavior, abuse patterns, and attack indicators.
    ownerRef: pkg_behavioral
    status: future
    actorRefs: [act_lqs]
    traceRefs: []

  - id: uc_harden_system_security
    name: Harden System Security
    documentation: >
      Proactively improve controls: patching, config hardening, auth defenses,
      and dependency vulnerability remediation.
    ownerRef: pkg_behavioral
    status: future
    actorRefs: [act_lqs]
    traceRefs: []

  - id: uc_respond_to_security_incidents
    name: Respond to Security Incidents
    documentation: >
      Triage and contain active incidents, communicate impact, and preserve
      forensic evidence.
    ownerRef: pkg_behavioral
    status: future
    actorRefs: [act_lqs]
    traceRefs: []

  - id: uc_recover_from_security_incidents
    name: Recover from Security Incidents
    documentation: >
      Restore secure operations and data integrity after incident containment.
    ownerRef: pkg_behavioral
    status: future
    actorRefs: [act_lqs]
    traceRefs: []

  - id: uc_test_system
    name: Test the System
    documentation: >
      Plan and execute a blended manual/automated test approach with defect
      management and fix verification.
    ownerRef: pkg_behavioral
    status: mvp
    actorRefs: [act_lqs, act_tester, act_developer]
    includeRefs:
      - uc_plan_tests
      - uc_execute_automated_tests
      - uc_execute_manual_tests
      - uc_manage_discovered_faults
      - uc_verify_fixes
    traceRefs: [src_design_doc]

  - id: uc_plan_tests
    name: Plan Tests
    documentation: >
      Define test objectives, cases, coverage targets, and pass/fail criteria.
    ownerRef: pkg_behavioral
    status: mvp
    actorRefs: [act_lqs]
    traceRefs: []

  - id: uc_execute_automated_tests
    name: Execute Automated Tests
    documentation: >
      Run automated test suites through CI/test harnesses and collect results.
    ownerRef: pkg_behavioral
    status: mvp
    actorRefs: [act_lqs, act_test_bench]
    traceRefs: []

  - id: uc_execute_manual_tests
    name: Execute Manual Tests
    documentation: >
      Execute exploratory and scripted manual tests for UX and learning quality.
    ownerRef: pkg_behavioral
    status: mvp
    actorRefs: [act_lqs]
    traceRefs: []

  - id: uc_manage_discovered_faults
    name: Manage Discovered Faults
    documentation: >
      Log, triage, prioritize, and track discovered faults to closure.
    ownerRef: pkg_behavioral
    status: mvp
    actorRefs: [act_lqs]
    traceRefs: []

  - id: uc_verify_fixes
    name: Verify Fixes
    documentation: >
      Re-test addressed faults to confirm closure and prevent regressions.
    ownerRef: pkg_behavioral
    status: mvp
    actorRefs: [act_lqs, act_test_bench]
    traceRefs: []
